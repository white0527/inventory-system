# ==========================================================
# ç¥¥æ˜“æŸ¥åƒ¹ç³»çµ± - æ ¸å¿ƒè¨­å®šæª” (2026-02-16 æ’é™¤æ•…éšœç‰ˆ)
# ==========================================================

# === 1. ä¼ºæœå™¨è¨­å®š ===
server.port=8080

# === 2. ğŸ›¡ï¸ Hikari é€£ç·šæ± ã€Œåˆå§‹åŒ–ã€å„ªå…ˆè¨­å®š ===
# å¿…é ˆæ”¾åœ¨æœ€å‰é¢ï¼Œé˜²æ­¢é€£ç·šæ± å•Ÿå‹•å¾Œè¢«é–å®š (Sealed)
spring.datasource.hikari.initialization-fail-timeout=-1

# === 3. è³‡æ–™åº«é€£ç·šè¨­å®š ===
# prepareThreshold=0 è§£æ±º Pooler æ¨¡å¼ä¸‹çš„é€£ç·šæ¡æ‰‹å•é¡Œ
spring.datasource.url=jdbc:postgresql://aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres?sslmode=require&prepareThreshold=0&connectTimeout=30&socketTimeout=30&tcpKeepAlive=true
spring.datasource.username=postgres.txowvwqkruzamxaxzosc
spring.datasource.password=Eason052334090
spring.datasource.driver-class-name=org.postgresql.Driver

# === 4. Hikari é‹è¡Œå„ªåŒ– ===
# å¢åŠ è¶…æ™‚å¯¬å®¹åº¦åˆ° 60 ç§’
spring.datasource.hikari.connection-timeout=60000
spring.datasource.hikari.maximum-pool-size=4
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.max-lifetime=600000

# === 5. JPA / Hibernate è¨­å®š (ä¸­æ–‡æ¬„ä½è‡ªå‹•å°é½Š) ===
# ç¢ºä¿è‡ªå‹•é•·å‡ºã€Œå•†å“ä»£è™Ÿã€ç­‰æ¬„ä½
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# === 6. æ‰¹æ¬¡è™•ç†å„ªåŒ– (ä¸‰è¬ç­†å¿«é€ŸåŒ¯å…¥) ===
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# === 7. è¨˜éŒ„æª”è¨­å®š ===
logging.level.org.hibernate.SQL=DEBUG