<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¥¥æ˜“æ©Ÿè»Šææ–™é€²éŠ·å­˜</title>
    <style>
        /* å…¨å±€è¨­å®šï¼šæ¨¡ä»¿å‚³çµ± Windows è»Ÿé«”é¢¨æ ¼ */
        body {
            font-family: 'PMingLiU', 'MingLiU', sans-serif; /* ç´°æ˜é«”æ¯”è¼ƒåƒå‚³çµ±è»Ÿé«” */
            background-color: #808080; /* èƒŒæ™¯æ·±ç°ï¼Œåƒæ‡‰ç”¨ç¨‹å¼æ¡Œé¢ */
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
        }

        /* === ç¬¬ä¸€å±¤ï¼šé ‚éƒ¨é¸å–®åˆ— === */
        #main-menu-bar {
            background-color: #f0f0f0;
            border-bottom: 2px solid #fff;
            padding: 5px 10px;
            display: flex;
            gap: 15px;
            font-size: 16px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .menu-item {
            cursor: pointer;
            padding: 2px 8px;
            color: #000;
            text-decoration: none;
        }
        .menu-item:hover {
            background-color: #000080; /* ç¶“å…¸åç™½ */
            color: #fff;
        }

        /* === ç¬¬äºŒå±¤ï¼šåŠŸèƒ½è¦–çª— (é–€å¸‚ç¾éŠ·) === */
        #sales-window {
            display: none; /* é è¨­éš±è— */
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 95%;
            max-width: 1000px;
            background-color: #d4d0c8; /* ç¶“å…¸ Windows ç° */
            border: 2px solid #fff;
            border-right-color: #404040;
            border-bottom-color: #404040;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
            padding: 5px;
        }

        /* æ¨™é¡Œåˆ— */
        .window-title {
            background: linear-gradient(to right, #000080, #1084d0);
            color: white;
            padding: 5px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .close-btn {
            background: #d4d0c8;
            color: black;
            border: 1px solid #fff;
            border-right-color: #404040;
            border-bottom-color: #404040;
            width: 20px;
            height: 20px;
            text-align: center;
            line-height: 18px;
            cursor: pointer;
            font-family: Arial;
        }

        /* ä¸Šæ–¹è³‡è¨Šå€ (è¡¨é ­) */
        .header-section {
            display: grid;
            grid-template-columns: 3fr 1fr; /* å·¦é‚Šè¼¸å…¥ï¼Œå³é‚Šå¤§é‡‘é¡ */
            gap: 10px;
            padding: 10px;
            border: 1px solid #808080;
            margin-top: 5px;
        }
        .form-row {
            display: flex;
            gap: 10px;
            margin-bottom: 5px;
            align-items: center;
        }
        .form-label {
            width: 70px;
            text-align: right;
        }
        input {
            border: 2px inset #d4d0c8;
            padding: 2px;
            font-family: 'PMingLiU';
        }
        
        /* å³é‚Šé‚£å€‹å¤§å¤§çš„ç¸½é‡‘é¡ */
        .big-total-box {
            background-color: #fff;
            border: 2px inset #d4d0c8;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
            padding-right: 10px;
        }
        .big-total-label { font-size: 12px; }
        #big-total-display {
            font-size: 48px;
            color: blue;
            font-weight: bold;
            font-family: 'Arial', sans-serif;
            margin: 0;
        }

        /* === æ ¸å¿ƒï¼šå•†å“è¡¨æ ¼ (å¾©å¤é¢¨æ ¼) === */
        .table-container {
            margin-top: 10px;
            height: 300px;
            overflow-y: auto;
            background-color: #fff;
            border: 2px inset #d4d0c8;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th {
            background-color: #00ffff; /* ç¶“å…¸é’è‰²è¡¨é ­ */
            color: black;
            border: 1px solid #00ff00; /* ç¶ è‰²æ¡†ç·š */
            padding: 4px;
            font-weight: normal;
            font-size: 14px;
            position: sticky;
            top: 0;
        }
        td {
            border: 1px solid #00ff00; /* ç¶ è‰²æ¡†ç·š */
            padding: 4px;
            color: black;
            font-size: 14px;
        }
        /* è®“è¼¸å…¥æ¡†èå…¥è¡¨æ ¼ */
        td input {
            width: 90%;
            border: none;
            outline: none;
            background: transparent;
        }

        /* === åº•éƒ¨æŒ‰éˆ•å€ === */
        .footer-section {
            margin-top: 10px;
            padding: 10px;
            border-top: 1px solid #808080;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            background-color: #d4d0c8;
        }
        .btn-retro {
            background-color: #d4d0c8;
            border: 2px solid #fff;
            border-right-color: #404040;
            border-bottom-color: #404040;
            padding: 5px 15px;
            font-size: 14px;
            cursor: pointer;
        }
        .btn-retro:active {
            border: 2px solid #404040;
            border-right-color: #fff;
            border-bottom-color: #fff;
        }
    </style>
</head>
<body>

    <div id="main-menu-bar">
        <div class="menu-item" onclick="openSalesWindow()">1.éŠ·è²¨</div>
        <div class="menu-item">2.é€²è²¨</div>
        <div class="menu-item">3.çµå¸³</div>
        <div class="menu-item">4.æ¨™ç±¤</div>
        <div class="menu-item">5.å•†å“</div>
        <div class="menu-item">6.å®¢æˆ¶</div>
        <div class="menu-item">7.å» å•†</div>
        <div class="menu-item">8.å…¶å®ƒè³‡æ–™</div>
        <div class="menu-item">9.å‚™ä»½</div>
        <div class="menu-item">0.é€€å‡º</div>
    </div>

    <div id="sales-window">
        <div class="window-title">
            <span>ğŸ”´ é–€å¸‚ç¾éŠ·ä½œæ¥­</span>
            <div class="close-btn" onclick="closeSalesWindow()">X</div>
        </div>

        <div class="header-section">
            <div class="info-left">
                <div class="form-row">
                    <span class="form-label">ç·¨è™Ÿï¼š</span>
                    <input type="text" value="S2026020301" disabled style="width: 120px; background:#eee;">
                    <span class="form-label">æ—¥æœŸï¼š</span>
                    <input type="date" id="order-date" value="2026-02-03">
                </div>
                <div class="form-row">
                    <span class="form-label">å®¢æˆ¶ï¼š</span>
                    <input type="text" id="customer-code" placeholder="è¼¸å…¥ä»£è™Ÿæˆ–æƒæ" style="width: 100px;">
                    <input type="text" value="é–€å¸‚ç¾éŠ·" disabled style="width: 150px; background:#eee;">
                </div>
            </div>
            
            <div class="big-total-box">
                <span class="big-total-label">ç¸½é‡‘é¡</span>
                <span id="big-total-display">0</span>
            </div>
        </div>

        <div class="table-container">
            <table id="order-table">
                <thead>
                    <tr>
                        <th style="width: 40px;">åº</th>
                        <th>å•†å“ä»£è™Ÿ</th>
                        <th>è»Šç¨®</th>
                        <th>å•†å“åç¨±</th>
                        <th style="width: 60px;">æ•¸é‡</th>
                        <th style="width: 80px;">å–®åƒ¹</th>
                        <th style="width: 100px;">é‡‘é¡</th>
                        <th>å‚™è¨»</th>
                        <th style="width: 50px;">æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody id="order-list">
                    </tbody>
            </table>
        </div>

        <div class="footer-section">
            <button class="btn-retro" onclick="addNewRow()">I.æ’å…¥ä¸€è¡Œ</button>
            <button class="btn-retro">E.ä¿®æ”¹</button>
            <button class="btn-retro">K.åˆªé™¤</button>
            <div style="flex-grow:1;"></div> <select style="height: 28px;">
                <option>Microsoft Print to PDF</option>
            </select>
            <button class="btn-retro" onclick="saveOrder(true)">P.å­˜æª”+å°è¡¨</button>
            <button class="btn-retro" onclick="saveOrder(false)">G.å­˜æª”</button>
            <button class="btn-retro" onclick="closeSalesWindow()">Q.é€€å‡º</button>
        </div>
    </div>

    <script src="script.js"></script>

    <script>
        // === ä»‹é¢åˆ‡æ›é‚è¼¯ ===
        
        // æ‰“é–‹éŠ·è²¨è¦–çª—
        function openSalesWindow() {
            document.getElementById('sales-window').style.display = 'block';
            // è‡ªå‹•èšç„¦åˆ°å®¢æˆ¶ä»£è™Ÿï¼Œæ–¹ä¾¿ç›´æ¥æƒæ
            document.getElementById('customer-code').focus();
            // é è¨­æ—¥æœŸ
            document.getElementById('order-date').valueAsDate = new Date();
        }

        // é—œé–‰éŠ·è²¨è¦–çª—
        function closeSalesWindow() {
            document.getElementById('sales-window').style.display = 'none';
        }

        // ç›£è½éµç›¤å¿«æ·éµ (Qé€€å‡º, Iæ’å…¥)
        document.addEventListener('keydown', function(event) {
            if (event.key === 'q' || event.key === 'Q') {
                closeSalesWindow(); // æŒ‰ Q é€€å‡º
            }
            if (event.key === 'i' || event.key === 'I') {
                addNewRow(); // æŒ‰ I æ’å…¥ä¸€è¡Œ
            }
        });
        
        // ç‚ºäº†è®“èˆŠçš„ script.js èƒ½é‹ä½œï¼Œæˆ‘å€‘éœ€è¦ç¢ºä¿æ–°å¢è¡Œçš„æ™‚å€™æ›´æ–°ç¸½é‡‘é¡
        // é€™è£¡åšä¸€å€‹ç°¡å–®çš„æ””æˆªå™¨
        const originalUpdateTotal = window.updateTotal; // å‡è¨­ script.js è£¡æœ‰é€™å€‹
        // å¦‚æœ script.js è£¡æœ‰æ›´æ–°ç¸½é‡‘é¡çš„å‡½å¼ï¼Œæˆ‘å€‘æŠŠå®ƒè·Ÿå¤§è—è‰²æ•¸å­—é€£å‹•
        function updateBigTotalDisplay(amount) {
            document.getElementById('big-total-display').innerText = amount;
        }
        
    </script>
</body>
</html>